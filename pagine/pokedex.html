<html>
<head>
<title>Pokedex</title>
<style>
	body{
		background-color: black;
		
	}
	*{
		margin: 0 auto;
		border-radius: 10px;
	}
	div#elencoPokemon{
		width: 150px;
		height: 300px;
		overflow-y: scroll;
		overflow-x: hidden;
		
	}
	div#zoom{
		width: 600px;
		height: 300px;
		background-color: yellow;
		
	}
	div#dati{
		width: 200px;
		height: 300px;
		background-color: green;
		
	}
	td.e{
		cursor: pointer;
	}
	td{
		color: white;
	}
	tr.T:nth-child(even){
		background-color: grey;
	}
	h1,h3,p{
		color: black;
	}
	td#info{
		color: black;
		
		border-radius: 6px;
	}
	table#infoPokemon{
		position: relative;
		top: 20px;
		left: 0px;
	}
</style>
</head>
<body>
<center><img src="../immagini/pokedex.png" width="400px"></img></center>
<table id="container">
	<tr>
		<td><div id="elencoPokemon"></div></td>
		<td><div id="zoom"></div></td>
		<td><div id="dati"></div></td>
	</tr>
</table>

<script>

	var poke = JSON.parse(localStorage.getItem("pokemon"));
	
	divElencoPokemon = document.getElementById("elencoPokemon");
	divZoom = document.getElementById("zoom");
	divDati = document.getElementById("dati");
	
	var elencoPokemonHtml,zoomHtml,datiHtml;
	
	elencoPokemonHtml = "<table>";
	zoomHtml="<center><h3>BENVENUTO NEL POKEDEX!!</h3><p> Seleziona un pokemon per ottenere informazioni</p></center>";
	datiHtml="";
	
	for(var i=0;i<20;i++){
		elencoPokemonHtml+="<tr class='T'><td class='e'>"+(i+1)+") "+poke[i].nome+"</td></tr>";
	}
	elencoPokemonHtml+="</table>";
	divElencoPokemon.innerHTML = elencoPokemonHtml;
	divZoom.innerHTML = zoomHtml;
	divDati.innerHTML = datiHtml;
	
	document.onkeydown=function(t){
		gestisciTasto(t.keyCode);
	
	}
	var listaTag = [];									
	listaTag = document.getElementsByClassName("T");	
	var tag;	
	for(var i=0;i<20;i++){
		tag = listaTag[i];
		tag._selezionato = i;
		tag.onclick = mostraPokemon;					
	}
	
	function mostraPokemon(){
		zoomHtml = "<table id='infoPokemon'><tr><td><img src='../immagini/"+poke[this._selezionato].nome+".png'></img></td><td><h1>"+poke[this._selezionato].nome+"</h1></td></tr>";
		zoomHtml+="<tr><td id='info'>TIPO: "+poke[this._selezionato].tipo+"</td></tr>";
		zoomHtml+="<tr><td id='info'>STATO: "+(poke[this._selezionato].possiede ? "Trovato" : "Non Trovato")+"</td></tr></table>";
		datiHtml = "<table><tr><td>ELENCO MOSSE</td></tr>";
		datiHtml+="<tr><td>"+poke[this._selezionato].mosse[0]+"</td></tr>";
		datiHtml+="<tr><td>"+poke[this._selezionato].mosse[1]+"</td></tr>";
		datiHtml+="<tr><td>"+poke[this._selezionato].mosse[2]+"</td></tr>";
		datiHtml+="<tr><td>"+poke[this._selezionato].mosse[3]+"</td></tr></table>";
		divZoom.innerHTML = zoomHtml;
		divDati.innerHTML = datiHtml;
	}
	 function gestisciTasto(tasto){
		switch(tasto){
			case 90:
				location.href="schermataDiGioco.html";
				break;
		}
	}

	
</script>
</body>
</html>